<h1>HOME PAGE</h1>

<div style="padding:10px 0px 10px 10px">
    New Messages:
    <ul id="messagecontainer"></ul>
</div>
@section scripts {
    <!--
    <script src="~/Scripts/jquery.signalR-2.0.3.min.js"></script>
    <script src="~/signalr/hubs"></script>
    -->

    <script src="~/Scripts/jquery.signalR-2.3.0.min.js"></script>
    <script src="~/signalr/hubs"></script>

    <script>
        $(function () {
            // Reference the auto-generated proxy for the hub.
            var clientHub = $.connection.messageSender;
            $('#messagecontainer').append('<li>' + "This is a test message" + '</li>'+'<hr/>');
            // Create a function that the hub can call back to display messages.
            clientHub.client.broadcastMessage = function (message) {
                // Add the message to page.
                $('#messagecontainer').append('<li>' + message + '</li>'+'<hr/>');
            };
            $.connection.hub.start().done(alert("Started"));
        });
    </script>
}